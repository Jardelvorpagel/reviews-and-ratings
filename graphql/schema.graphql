type Review {
    id: ID!
    cacheId: ID!
    productId: String!
    rating: Int!
    title: String
    text: String
    reviewerName: String
    shopperId: String
    reviewDateTime: String
    verifiedPurchaser: Boolean
}

type Query {
    review(id: ID!): Review
    reviews(offset: Int, limit: Int, orderBy: String): [Review] @cacheControl(scope: PUBLIC, maxAge: SHORT)
    reviewsByProductId(productId: String!, offset: Int, limit: Int, orderBy: String): [Review] @cacheControl(scope: PUBLIC, maxAge: SHORT)
    averageRatingByProductId(productId: String!): Float
    totalReviewsByProductId(productId: String!): Int
}

# Mutations

input ReviewInput {
    id: ID
    cacheId: ID
    productId: String!
    rating: Int!
    title: String
    text: String
    reviewerName: String
    shopperId: String!
    reviewDateTime: String
    verifiedPurchaser: Boolean!
}

type Mutation {
    newReview(review: ReviewInput!): Review
    editReview(id: ID!, review: ReviewInput!): Review
    deleteReview(id: ID!): Boolean
}